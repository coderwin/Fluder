!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Fluder",[],t):"object"==typeof exports?exports.Fluder=t():e.Fluder=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.actionStoreCreate=t.applyMiddleware=t.actionCreate=t.storeCreate=void 0;var o=n(2),s=r(o),u=n(6),a=r(u),c=n(7),l=r(c),f=n(8),h=r(f);"production"!==e.env.NODE_ENV&&"string"==typeof i.name&&"isCrushed"!==i.name&&console.warn("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Fluder. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),t.storeCreate=s["default"],t.actionCreate=a["default"],t.applyMiddleware=l["default"],t.actionStoreCreate=h["default"]}).call(t,n(1))},function(e,t){"use strict";function n(e){if(a===setTimeout)return setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function i(){d&&f&&(d=!1,f.length?h=f.concat(h):v=-1,h.length&&o())}function o(){if(!d){var e=n(i);d=!0;for(var t=h.length;t;){for(f=h,h=[];++v<t;)f&&f[v].run();v=-1,t=h.length}f=null,d=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var a,c,l=e.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(e){c=function(){throw new Error("clearTimeout is not defined")}}}();var f,h=[],d=!1,v=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||d||n(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if("undefined"==typeof e)throw Error("id is reauired as create a store, and the id is the same of store!");var r="change",i=Object.assign(t,a["default"].prototype,{emitChange:function(e,t){this.emit(r,e,t)},addChangeListener:function(e){this.on(r,e)},removeChangeListener:function(e){this.removeListener(r,e)},removeAllChangeListener:function(){this.removeAllListener()}});return s["default"].register(e,{store:i,handlers:n}),i}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(3),s=r(o),u=n(5),a=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),u=r(s),a=n(5);r(a);t["default"]=new(function(){function e(){i(this,e),this._registers={},this._dispatchStack=[],this._init()}return o(e,[{key:"_init",value:function(){var e=this;this._middleware=new u["default"](function(t){e._invoke(t)},(!0))}},{key:"_invoke",value:function(e){var t=e,n=t.storeId,r=this._registers[n],i=r.store,o=r.handlers;e=e.payload;var s=o[e.type];if("function"==typeof s){var u=void 0;s.call(i,e);i.emitChange(e,u)}}},{key:"_startDispatch",value:function(e){this._dispatchStack||(this._dispatchStack=[]),this._dispatchStack.push(e),this._currentDispatch=e}},{key:"_endDispatch",value:function(){this._dispatchStack.pop(),this._currentDispatch=null}},{key:"register",value:function(e,t){this._registers[e]=t}},{key:"enter",value:function(e){this._middleware.enter(e)}},{key:"dispatch",value:function(e,t){if(this._currentDispatch==e)throw Error("action "+(t.value&&t.value.actionType)+" __invoke__ myself!");if(this._dispatchStack.indexOf(e)!=-1)throw Error(this._dispatchStack.join(" -> ")+e+" : action __invoke__ to a circle!");if(this._startDispatch(e),!t.type)throw new Error("action type does not exist in \n"+JSON.stringify(t,null,2));this._middleware.execute({storeId:e,payload:t}),this._endDispatch()}}]),e}())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r){n(this,e),this.workflows=[],this.completeCallback=t,r&&(this._workflows=[])}return r(e,[{key:"enter",value:function(e){this.workflows.push(e),this._workflows&&this._workflows.push(e)}},{key:"execute",value:function(e,t){t=t||this.workflows.concat();var n;t.length?(n=t.shift())(e,this.execute.bind(this,e,t)):(this._workflows&&(this.workflows=this._workflows.concat()),t=null,this.completeCallback(e))}}]),e}();t["default"]=i},function(e,t){"use strict";function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"===("undefined"==typeof e?"undefined":u(e))&&null!==e}function s(e){return void 0===e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,u,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(o(n))for(u=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,a=0;a<i;a++)c[a].apply(this,u);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){i=u;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if("undefined"==typeof e)throw Error("id is reauired as creating a action!");t&&0!=Object.keys(t).length||console.warn("action handler's length is 0, need you have a action handler?");var n=void 0,r={};for(var i in t)n=t[i],r[i]=function(e,t){return function(){return this.dispatch(e,t.apply(void 0,arguments))}.bind(this)}.call(s["default"],e,n);return r}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(3),s=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if("function"==typeof e&&s["default"].enter(e),"[object Array]"==={}.toString.call(e))for(var t=0;t<e.length;t++)"function"==typeof e&&i(e[t]);return{applyMiddleware:i}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(3),s=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?(0,o.unique)():arguments[3];return{actionor:(0,c["default"])(r,e),storeor:(0,u["default"])(r,t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(9),s=n(2),u=r(s),a=n(6),c=r(a)},function(e,t){"use strict";function n(){return"@@Fluder/StoreId/"+Math.random().toString(36).substring(7).split("").join(".")}Object.defineProperty(t,"__esModule",{value:!0}),t.unique=n}])});
//# sourceMappingURL=fluder.js.map