{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0f62d20a3e3d354b0304","webpack:///./src/index.js","webpack:///./src/storeCreator.js","webpack:///./src/fluder.js","webpack:///./src/queue.js","webpack:///./src/tools.js","webpack:///./~/events/events.js","webpack:///./src/actionCreator.js","webpack:///./src/applyMiddleware.js","webpack:///./src/actionStoreCreator.js"],"names":[],"mappings":"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","file":"fluder.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fluder\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fluder\"] = factory();\n\telse\n\t\troot[\"Fluder\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0f62d20a3e3d354b0304\n **/","var storeCreate = require('./storeCreator')\nvar actionCreate = require('./actionCreator')\nvar applyMiddleware = require('./applyMiddleware')\nvar actionStoreCreate = require('./actionStoreCreator')\n\nmodule.exports = {\n  storeCreate: storeCreate,\n  actionCreate: actionCreate,\n  applyMiddleware: applyMiddleware,\n  actionStoreCreate: actionStoreCreate\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","var Fluder = require('./fluder')\nvar EventEmitter = require('events')\n  /**\n   * 创建store[对外API]\n   * @param  {string} storeId  该store的唯一标识，和action里的storeId一一对应\n   * @param  {object} method   操作store的api(一般提供get set del update等)\n   * @param  {object} handlers action的处理回调对象，handler的key需要和actionType一致\n   * @return {object}          返回store对象\n   */\nfunction storeCreate (storeId, method, handlers) {\n  /**\n   * 不存在storeId\n   */\n  if (typeof storeId === 'undefined') {\n    throw Error('id is reauired as create a store, and the id is the same of store!')\n  }\n  var CHANGE_EVENT = 'change'\n    /**\n     * 创建store，继承EventEmitter\n     */\n  var store = Object.assign(method, EventEmitter.prototype, {\n    /**\n     * 统一Store的EventEmitter调用方式，避免和全局EventEmitter混淆\n     * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n     * 这里的局部优化是指全局Stores更新，触发的Store Handler较多，可以通过payload的数据过滤\n     */\n    emitChange: function (payload, result) {\n      this.emit(CHANGE_EVENT, payload, result)\n    },\n    addChangeListener: function (callback) {\n      this.on(CHANGE_EVENT, callback)\n    },\n    removeChangeListener: function (callback) {\n      this.removeListener(CHANGE_EVENT, callback)\n    },\n    removeAllChangeListener: function () {\n      this.removeAllListeners()\n    }\n  })\n\n  Fluder.register(storeId, {\n    store: store,\n    handlers: handlers\n  })\n\n  return store\n}\n\nmodule.exports = storeCreate\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/storeCreator.js\n **/","/**\n * Fluder 0.1.0\n * A unidirectional data flow tool based on flux.\n *\n * url: https://github.com/coderwin/Fluder\n * author: chenjiancj2011@outlook.com\n * weibo: imChenJian\n * date: 2016-08-10\n */\n\n/**\n * workflow Queue\n */\nvar Queue = require('./queue')\n\n/**\n * catchError\n */\nvar Tool = require('./tools')\nvar catchError = Tool.catchError\n\n/**\n * 构造函数\n * @return {object} 返回Fluder实例对象\n */\nfunction Fluder () {\n  /**\n   * store handlers 注册Map\n   * @type {Object}\n   */\n  this._registers = {}\n\n  /**\n   * dispatch栈\n   * @type {Array}\n   */\n  this._dispatchStack = []\n\n  /**\n   * 初始化\n   */\n  this._init()\n}\n\nFluder.prototype._init = function () {\n  /**\n   * 中间件，集中处理action payload和storeId\n   */\n  this._middleware = new Queue(true).after(function (payload) {\n    /**\n     * 中间件队列执行完后触发Store handler的调用\n     */\n    this._invoke(payload)\n  }.bind(this))\n}\n\n/**\n * action对handler的调用(内部调用)\n * @param  {object} payload 此时的payload包含action和action对应的storeId\n * @return {void}           无返回值\n */\nFluder.prototype._invoke = function (payload) {\n  /**\n   * storeId: 用于map到register里面注册的handler\n   * @type {string}\n   */\n  var storeId = payload.storeId\n\n  /**\n   * store和它对应的handler\n   * @type {object}\n   */\n  var store = this._registers[storeId]['store']\n  var handlers = this._registers[storeId]['handlers']\n\n  /**\n   * action payload\n   * @type {object}\n   */\n  payload = payload.payload\n\n  /**\n   * 在当前storeId的store Map到对应的handler\n   * @type {function}\n   */\n  var handler = handlers[payload.type]\n\n  if (typeof handler === 'function') {\n    /**\n     * TODO\n     * result应该为store数据的copy，暂时没做深度copy，后续把Store改写成Immutable数据结构\n     * view-controller里面对result的修改不会影响到store里的数据\n     */\n    var result\n      // var _result = handler.call(store, payload)\n    handler.call(store, payload)\n      /**\n       * 可以没有返回值，只是set Store里面的值\n       * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n       */\n      // if (result !== undefined) {\n    store.emitChange(payload, result)\n      // }\n  }\n}\n\n/**\n * 更新Action栈以及记录当前ActionID\n */\nFluder.prototype._startDispatch = function (storeId) {\n  this._dispatchStack || (this._dispatchStack = [])\n  this._dispatchStack.push(storeId)\n  this._currentDispatch = storeId\n}\n\n/**\n * Action执行完更新Action栈以及删除当前ActionID\n */\nFluder.prototype._endDispatch = function () {\n  this._dispatchStack.pop()\n  this._currentDispatch = null\n}\n\n/**\n * Store和handler注册\n * @param  {string} storeId store/action唯一标示\n * @param  {object} storeHandler  store和handler\n * @return {void}           无返回值\n */\nFluder.prototype.register = function (storeId, storeHandler) {\n  this._registers[storeId] = storeHandler\n}\n\n/**\n * 中间件入队\n * @param  {function} middleware  中间件处理函数\n * @return {void}           无返回值\n */\nFluder.prototype.enqueue = function (middleware) {\n  this._middleware.enqueue(middleware)\n}\n\n/**\n * 触发action(内部调用)\n * @param  {string} storeId store/action唯一标示\n * @param  {object} action  action数据\n * @return {void}           无返回值\n */\nFluder.prototype.dispatch = function (storeId, payload) {\n  /**\n   * 在当前Action触发的Store handler回调函数中再次发起了当前Action，这样会造成A-A循环调用,出现栈溢出\n   */\n  if (this._currentDispatch === storeId) {\n    throw Error('action ' + (payload.value && payload.value.actionType) + ' __invoke__ myself!')\n  }\n\n  /**\n   * 在当前Action触发的Store handler回调函数中再次触发了当前Action栈中的Action，出现A-B-C-A式循环调用，也会出现栈溢出\n   */\n  if (this._dispatchStack.indexOf(storeId) !== -1) {\n    throw Error(this._dispatchStack.join(' -> ') + storeId + ' : action __invoke__ to a circle!')\n  }\n\n  /**\n   * 更新Action栈以及记录当前ActionID\n   */\n  this._startDispatch(storeId)\n\n  /**\n   * Action的触发必须有ActionType，原因是ActionType和Store handlers Map的key一一对应\n   */\n  if (!payload.type) {\n    throw new Error('action type does not exist in \\n' + JSON.stringify(payload, null, 2))\n  }\n\n  try {\n    /**\n     * 发出action的时候 统一走一遍中间件\n     *\n     * {\n     *     storeId,\n     *     payload\n     * }\n     *\n     * shallow Immutable\n     */\n    this._middleware.execute(Object.freeze({\n      storeId: storeId,\n      payload: payload,\n      store: this._registers[storeId]['store']\n    }))\n  } catch (e) {\n    /**\n     * 执行handler的时候出错end掉当前dispatch\n     */\n    this._endDispatch()\n\n    /**\n     * 抛出错误信息\n     */\n    catchError(e)\n  }\n\n  /**\n   * Action执行完更新Action栈以及删除当前ActionID\n   */\n  this._endDispatch()\n}\n\nmodule.exports = new Fluder()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fluder.js\n **/","/**\n * 队列\n * @type {Array}\n */\nvar queue = []\n\n/**\n * 队列备份\n * @type {Array}\n */\nvar _queue = []\n\n/**\n * 队列类\n */\nfunction Queue (loop) {\n  this.loop = (typeof loop === 'undefined') ? true : loop\n}\n\n/**\n * 入队\n * @param {Function} 排队函数\n */\nQueue.prototype.enqueue = function (task) {\n  /**\n   * 入队\n   */\n  queue.push(task)\n    // Backup\n  this.loop && _queue.push(task)\n}\n\n/**\n * 执行队列函数\n * @param {Object} 可为空，在排队函数中流通的data\n * @param {Array} 可为空，替换队列中的排队函数\n */\nQueue.prototype.execute = function (data, tasks) {\n  /**\n   * 如果tasks存在则忽略排队函数\n   */\n  tasks = tasks || queue\n  var task\n\n  /**\n   * 队列不为空\n   */\n  if (tasks.length) {\n    /**\n     * 出队\n     */\n    task = tasks.shift()\n    task(data, this.execute.bind(this, data, tasks))\n  } else {\n    /**\n     * 队列为空，执行完成\n     */\n    task = null\n    this.tasksAchieved(data)\n\n    // Get backup\n    this.loop && (queue = _queue.concat())\n  }\n}\n\n/**\n * 队列中排队函数执行完成后的回调函数\n * @param  {Function} fn\n * @return {object}   返回队列实例，mock Promise\n */\nQueue.prototype.after = function (fn) {\n  this.tasksAchieved = fn\n  return this\n}\n\nmodule.exports = Queue\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/queue.js\n **/","function unique () {\n  /**\n   * Fluder Store唯一ID\n   */\n  return '@@Fluder/StoreId/' +\n    Math.random()\n    .toString(36)\n    .substring(7)\n    .split('')\n    .join('.')\n}\n\n/**\n * 可以有中间件实现\n * @param  {error} e 错误对象\n */\nfunction catchError (e) {\n  var start = '\\n\\n@@Fluder/Start\\n'\n  var end = '\\n@@Fluder/End\\n\\n'\n\n  throw Error(start +\n    'Error: ' +\n    (e.line ? (e.line + '行') : '') +\n    (e.column ? (e.column + '列') : '') +\n    e.message +\n    end)\n}\n\nmodule.exports = {\n  unique: unique,\n  catchError: catchError\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tools.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/events/events.js\n **/","var Fluder = require('./fluder')\n/**\n * 创建action[对外API]\n * @param  {string} storeId  该action作用于那个store,和store的storeId一一对应\n * @param  {object} actionCreators 需要创建的action对象\n * @return {object} 返回一个actions对象,具有调用action触发store change的能力\n */\nfunction actionCreate (storeId, actionCreators) {\n  /**\n   * 不存在storeId\n   */\n  if (typeof storeId === 'undefined') {\n    throw Error('id is reauired as creating a action!')\n  }\n  /**\n   * action handler为空,相当于没有action\n   */\n  if (!actionCreators || Object.keys(actionCreators).length === 0) {\n    console.warn('action handler\\'s length is 0, need you have a action handler?')\n  }\n\n  var creator\n  var actions = {}\n  /**\n   * 遍历创建Action\n   */\n  for (var name in actionCreators) {\n    creator = actionCreators[name]\n    /**\n     * 创建闭包，让creator不被回收\n     */\n    actions[name] = function (storeId, creator) {\n      return function () {\n        /**\n         * action里面发出改变store消息\n         */\n        return this.dispatch(storeId, creator.apply(null, arguments))\n      }.bind(this)\n    }.call(Fluder, storeId, creator)\n  }\n  return actions\n}\n\nmodule.exports = actionCreate\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actionCreator.js\n **/","var Fluder = require('./fluder')\n\n/**\n * 中间件[对外API]\n * @param  {function} middleware action统一流入中间件\n * 这里和redux类似，和express等框架对请求的处理一样\n */\nfunction applyMiddleware (middleware) {\n  if (typeof middleware === 'function') {\n    /**\n     * 中间件是一个队列，一个action发出时\n     * 需要排队等到所有的中间件 完成才会触发对应的handler\n     * @param  {function} middleware\n     */\n    Fluder.enqueue(middleware)\n  }\n  if (({}).toString.call(middleware) === '[object Array]') {\n    for (var i = 0; i < middleware.length; i++) {\n      if (typeof middleware[i] === 'function') {\n        applyMiddleware(middleware[i])\n      }\n    }\n  }\n  /**\n   * 支持链式中间件\n   */\n  return {\n    applyMiddleware: applyMiddleware\n  }\n}\nmodule.exports = applyMiddleware\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/applyMiddleware.js\n **/","var Tool = require('./tools')\nvar unique = Tool.unique\nvar storeCreate = require('./storeCreator')\nvar actionCreate = require('./actionCreator')\n\nfunction actionStoreCreate (actionCreators, method, handlers, storeId) {\n  storeId = (storeId || unique())\n  return {\n    actionor: actionCreate(storeId, actionCreators),\n    storeor: storeCreate(storeId, method, handlers)\n  }\n}\n\nmodule.exports = actionStoreCreate\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actionStoreCreator.js\n **/"],"sourceRoot":""}