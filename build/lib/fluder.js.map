{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///fluder.js","webpack:///webpack/bootstrap 7beb840fa2177a9dc188","webpack:///./src/index.js","webpack:///./~/process/browser.js","webpack:///./src/storeCreator.js","webpack:///./src/fluder.js","webpack:///./src/queue.js","webpack:///./~/events/events.js","webpack:///./src/actionCreator.js","webpack:///./src/applyMiddleware.js","webpack:///./src/actionStoreCreator.js","webpack:///./src/tools.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","process","_interopRequireDefault","obj","__esModule","default","isCrushed","Object","defineProperty","value","actionStoreCreate","applyMiddleware","actionCreate","storeCreate","undefined","_storeCreator","_storeCreator2","_actionCreator","_actionCreator2","_applyMiddleware","_applyMiddleware2","_actionStoreCreator","_actionStoreCreator2","env","NODE_ENV","name","console","warn","runTimeout","fun","cachedSetTimeout","setTimeout","e","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","length","queue","concat","queueIndex","drainQueue","timeout","len","run","Item","array","noop","Error","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","dir","umask","storeId","method","handlers","CHANGE_EVENT","store","assign","_events2","emitChange","payload","result","addChangeListener","callback","removeChangeListener","removeAllChangeListener","removeAllListener","_fluder2","register","_fluder","_events","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","_queue","_queue2","Fluder","_registers","_dispatchStack","_init","_this","_middleware","_invoke","_payload","_registers$storeId","handler","type","_currentDispatch","pop","regs","middleware","enter","actionType","indexOf","join","_startDispatch","JSON","stringify","execute","_endDispatch","Queue","completeCallback","loop","workflows","_workflows","workflow","data","shift","bind","EventEmitter","_maxListeners","isFunction","arg","isNumber","isObject","_typeof","isUndefined","Symbol","iterator","constructor","defaultMaxListeners","setMaxListeners","n","isNaN","er","listeners","error","err","context","slice","listener","newListener","warned","trace","g","fired","list","position","splice","ret","listenerCount","evlistener","emitter","actionCreators","keys","creator","actions","dispatch","toString","_tools","unique","actionor","storeor","Math","random","substring","split"],"mappings":"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","file":"fluder.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fluder\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fluder\"] = factory();\n\telse\n\t\troot[\"Fluder\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fluder\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fluder\"] = factory();\n\telse\n\t\troot[\"Fluder\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.actionStoreCreate = exports.applyMiddleware = exports.actionCreate = exports.storeCreate = undefined;\n\t\n\tvar _storeCreator = __webpack_require__(2);\n\t\n\tvar _storeCreator2 = _interopRequireDefault(_storeCreator);\n\t\n\tvar _actionCreator = __webpack_require__(6);\n\t\n\tvar _actionCreator2 = _interopRequireDefault(_actionCreator);\n\t\n\tvar _applyMiddleware = __webpack_require__(7);\n\t\n\tvar _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);\n\t\n\tvar _actionStoreCreator = __webpack_require__(8);\n\t\n\tvar _actionStoreCreator2 = _interopRequireDefault(_actionStoreCreator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*\n\t* This is a dummy function to check if the function name has been altered by minification.\n\t* If the function has been minified and NODE_ENV !== 'production', warn the user.\n\t*/\n\tfunction isCrushed() {}\n\t\n\tif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n\t  console.warn('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Fluder. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n\t}\n\t\n\texports.storeCreate = _storeCreator2.default;\n\texports.actionCreate = _actionCreator2.default;\n\texports.applyMiddleware = _applyMiddleware2.default;\n\texports.actionStoreCreate = _actionStoreCreator2.default;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\t(function () {\n\t    try {\n\t        cachedSetTimeout = setTimeout;\n\t    } catch (e) {\n\t        cachedSetTimeout = function cachedSetTimeout() {\n\t            throw new Error('setTimeout is not defined');\n\t        };\n\t    }\n\t    try {\n\t        cachedClearTimeout = clearTimeout;\n\t    } catch (e) {\n\t        cachedClearTimeout = function cachedClearTimeout() {\n\t            throw new Error('clearTimeout is not defined');\n\t        };\n\t    }\n\t})();\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch (e) {\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch (e) {\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e) {\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e) {\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while (len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () {\n\t    return '/';\n\t};\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function () {\n\t    return 0;\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = storeCreate;\n\t\n\tvar _fluder = __webpack_require__(3);\n\t\n\tvar _fluder2 = _interopRequireDefault(_fluder);\n\t\n\tvar _events = __webpack_require__(5);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * 创建store[对外API]\n\t * @param  {string} storeId  该store的唯一标识，和action里的storeId一一对应\n\t * @param  {object} method   操作store的api(一般提供get set del update等)\n\t * @param  {object} handlers action的处理回调对象，handler的key需要和actionType一致\n\t * @return {object}          返回store对象\n\t */\n\tfunction storeCreate(storeId, method, handlers) {\n\t    /**\n\t     * 不存在storeId\n\t     */\n\t    if (typeof storeId == 'undefined') {\n\t        throw Error('id is reauired as create a store, and the id is the same of store!');\n\t    }\n\t    var CHANGE_EVENT = 'change';\n\t    /**\n\t     * 创建store，继承EventEmitter\n\t     */\n\t    var store = Object.assign(method, _events2.default.prototype, {\n\t        /**\n\t         * 统一Store的EventEmitter调用方式，避免和全局EventEmitter混淆\n\t         * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n\t         * 这里的局部优化是指全局Stores更新，触发的Store Handler较多，可以通过payload的数据过滤\n\t         */\n\t        emitChange: function emitChange(payload, result) {\n\t            this.emit(CHANGE_EVENT, payload, result);\n\t        },\n\t        addChangeListener: function addChangeListener(callback) {\n\t            this.on(CHANGE_EVENT, callback);\n\t        },\n\t        removeChangeListener: function removeChangeListener(callback) {\n\t            this.removeListener(CHANGE_EVENT, callback);\n\t        },\n\t        removeAllChangeListener: function removeAllChangeListener() {\n\t            this.removeAllListener();\n\t        }\n\t    });\n\t\n\t    _fluder2.default.register(storeId, { store: store, handlers: handlers });\n\t\n\t    return store;\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t/**\n\t * Fluder 0.1.0\n\t * A unidirectional data flow tool based on flux.\n\t *\n\t * url: https://github.com/coderwin/Fluder\n\t * author: chenjiancj2011@outlook.com\n\t * weibo: imChenJian\n\t * date: 2016-08-10\n\t */\n\t\n\t/**\n\t * workflow Queue\n\t */\n\t\n\t\n\t/**\n\t * custom Event\n\t */\n\t\n\t\n\tvar _queue = __webpack_require__(4);\n\t\n\tvar _queue2 = _interopRequireDefault(_queue);\n\t\n\tvar _events = __webpack_require__(5);\n\t\n\tvar _events2 = _interopRequireDefault(_events);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Fluder\n\t */\n\texports.default = new (function () {\n\t  /**\n\t   * 构造函数\n\t   * @return {object} 返回Fluder实例对象\n\t   */\n\t  function Fluder() {\n\t    _classCallCheck(this, Fluder);\n\t\n\t    /**\n\t     * store handlers 注册Map\n\t     * @type {Object}\n\t     */\n\t    this._registers = {};\n\t\n\t    /**\n\t     * dispatch栈\n\t     * @type {Array}\n\t     */\n\t    this._dispatchStack = [];\n\t\n\t    /**\n\t     * 初始化\n\t     */\n\t    this._init();\n\t  }\n\t\n\t  _createClass(Fluder, [{\n\t    key: '_init',\n\t    value: function _init() {\n\t      var _this = this;\n\t\n\t      /**\n\t       * 中间件，集中处理action payload和storeId\n\t       */\n\t      this._middleware = new _queue2.default(function (payload) {\n\t        /**\n\t         * 中间件队列执行完后触发Store handler的调用\n\t         */\n\t        _this._invoke(payload);\n\t      }, true);\n\t    }\n\t\n\t    /**\n\t     * action对handler的调用(内部调用)\n\t     * @param  {object} payload 此时的payload包含action和action对应的storeId\n\t     * @return {void}           无返回值\n\t     */\n\t\n\t  }, {\n\t    key: '_invoke',\n\t    value: function _invoke(payload) {\n\t      /**\n\t       * storeId: 用于map到register里面注册的handler\n\t       * @type {string}\n\t       */\n\t      var _payload = payload;\n\t      var storeId = _payload.storeId;\n\t      /**\n\t       * store和它对应的handler\n\t       * @type {object}\n\t       */\n\t\n\t      var _registers$storeId = this._registers[storeId];\n\t      var store = _registers$storeId.store;\n\t      var handlers = _registers$storeId.handlers;\n\t\n\t      /**\n\t       * action payload\n\t       * @type {object}\n\t       */\n\t\n\t      payload = payload.payload;\n\t\n\t      /**\n\t       * 在当前storeId的store Map到对应的handler\n\t       * @type {function}\n\t       */\n\t      var handler = handlers[payload.type];\n\t\n\t      if (typeof handler === 'function') {\n\t        // Invoke store handler\n\t        /**\n\t         * TODO\n\t         * result应该为store数据的copy，暂时没做深度copy，后续把Store改写成Immutable数据结构\n\t         * view-controller里面对result的修改不会影响到store里的数据\n\t         */\n\t        var result = void 0;\n\t        var _result = handler.call(store, payload);\n\t        /**\n\t         * 可以没有返回值，只是set Store里面的值\n\t         * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n\t         */\n\t        // if (result !== undefined) {\n\t        store.emitChange(payload, result);\n\t        // }\n\t      }\n\t    }\n\t\n\t    /**\n\t     * 更新Action栈以及记录当前ActionID\n\t     */\n\t\n\t  }, {\n\t    key: '_startDispatch',\n\t    value: function _startDispatch(storeId) {\n\t      this._dispatchStack || (this._dispatchStack = []);\n\t      this._dispatchStack.push(storeId);\n\t      this._currentDispatch = storeId;\n\t    }\n\t\n\t    /**\n\t     * Action执行完更新Action栈以及删除当前ActionID\n\t     */\n\t\n\t  }, {\n\t    key: '_endDispatch',\n\t    value: function _endDispatch() {\n\t      this._dispatchStack.pop();\n\t      this._currentDispatch = null;\n\t    }\n\t  }, {\n\t    key: 'register',\n\t    value: function register(storeId, regs) {\n\t      this._registers[storeId] = regs;\n\t    }\n\t  }, {\n\t    key: 'enter',\n\t    value: function enter(middleware) {\n\t      this._middleware.enter(middleware);\n\t    }\n\t\n\t    /**\n\t     * 触发action(内部调用)\n\t     * @param  {string} storeId store/action唯一标示\n\t     * @param  {object} action  action数据\n\t     * @return {void}           无返回值\n\t     */\n\t\n\t  }, {\n\t    key: 'dispatch',\n\t    value: function dispatch(storeId, payload) {\n\t      /**\n\t       * 在当前Action触发的Store handler回调函数中再次发起了当前Action，这样会造成A-A循环调用,出现栈溢出\n\t       */\n\t      if (this._currentDispatch == storeId) {\n\t        throw Error('action ' + (payload.value && payload.value.actionType) + ' __invoke__ myself!');\n\t      }\n\t      /**\n\t       * 在当前Action触发的Store handler回调函数中再次触发了当前Action栈中的Action，出现A-B-C-A式循环调用，也会出现栈溢出\n\t       */\n\t      if (this._dispatchStack.indexOf(storeId) != -1) {\n\t        throw Error(this._dispatchStack.join(' -> ') + storeId + ' : action __invoke__ to a circle!');\n\t      }\n\t      /**\n\t       * 更新Action栈以及记录当前ActionID\n\t       */\n\t      this._startDispatch(storeId);\n\t      /**\n\t       * Action的触发必须有ActionType，原因是ActionType和Store handlers Map的key一一对应\n\t       */\n\t      if (!payload.type) {\n\t        throw new Error('action type does not exist in \\n' + JSON.stringify(payload, null, 2));\n\t      }\n\t      /**\n\t       * 发出action的时候 统一走一遍中间件\n\t       */\n\t      this._middleware.execute({\n\t        storeId: storeId,\n\t        payload: payload\n\t      });\n\t      /**\n\t       * Action执行完更新Action栈以及删除当前ActionID\n\t       */\n\t      this._endDispatch();\n\t    }\n\t  }]);\n\t\n\t  return Fluder;\n\t}())();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Mini Queue Class\n\t * @param {Function} complete callback,\n\t * when queue is done, then invoke complete callback\n\t * @param {Boolean} whether execute workflow of loop\n\t */\n\tvar Queue = function () {\n\t    function Queue(completeCallback, loop) {\n\t        _classCallCheck(this, Queue);\n\t\n\t        this.workflows = [];\n\t        this.completeCallback = completeCallback;\n\t\n\t        if (loop) {\n\t            this._workflows = [];\n\t        }\n\t    }\n\t    /**\n\t     * Enter queue\n\t     * @param {Function} workflow function\n\t     */\n\t\n\t\n\t    _createClass(Queue, [{\n\t        key: \"enter\",\n\t        value: function enter(workflow) {\n\t            this.workflows.push(workflow);\n\t\n\t            // Backup workflow\n\t            if (this._workflows) {\n\t                this._workflows.push(workflow);\n\t            }\n\t        }\n\t        /**\n\t         * Execute workflow\n\t         * @param {Object} workflow function data required\n\t         */\n\t\n\t    }, {\n\t        key: \"execute\",\n\t        value: function execute(data, workflows) {\n\t            workflows = workflows || this.workflows.concat();\n\t            var workflow;\n\t\n\t            if (workflows.length) {\n\t                workflow = workflows.shift();\n\t                workflow(data, this.execute.bind(this, data, workflows));\n\t            } else {\n\t                // Get backup, begin loop\n\t                if (this._workflows) {\n\t                    this.workflows = this._workflows.concat();\n\t                }\n\t\n\t                workflows = null;\n\t                this.completeCallback(data);\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return Queue;\n\t}();\n\t\n\texports.default = Queue;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t  this._maxListeners = this._maxListeners || undefined;\n\t}\n\tmodule.exports = EventEmitter;\n\t\n\t// Backwards-compat with node 0.10.x\n\tEventEmitter.EventEmitter = EventEmitter;\n\t\n\tEventEmitter.prototype._events = undefined;\n\tEventEmitter.prototype._maxListeners = undefined;\n\t\n\t// By default EventEmitters will print a warning if more than 10 listeners are\n\t// added to it. This is a useful default which helps finding memory leaks.\n\tEventEmitter.defaultMaxListeners = 10;\n\t\n\t// Obviously not all Emitters should be limited to 10. This function allows\n\t// that to be increased. Set to zero for unlimited.\n\tEventEmitter.prototype.setMaxListeners = function (n) {\n\t  if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError('n must be a positive number');\n\t  this._maxListeners = n;\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.emit = function (type) {\n\t  var er, handler, len, args, i, listeners;\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // If there is no 'error' event listener then throw.\n\t  if (type === 'error') {\n\t    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n\t      er = arguments[1];\n\t      if (er instanceof Error) {\n\t        throw er; // Unhandled 'error' event\n\t      } else {\n\t        // At least give some kind of context to the user\n\t        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n\t        err.context = er;\n\t        throw err;\n\t      }\n\t    }\n\t  }\n\t\n\t  handler = this._events[type];\n\t\n\t  if (isUndefined(handler)) return false;\n\t\n\t  if (isFunction(handler)) {\n\t    switch (arguments.length) {\n\t      // fast cases\n\t      case 1:\n\t        handler.call(this);\n\t        break;\n\t      case 2:\n\t        handler.call(this, arguments[1]);\n\t        break;\n\t      case 3:\n\t        handler.call(this, arguments[1], arguments[2]);\n\t        break;\n\t      // slower\n\t      default:\n\t        args = Array.prototype.slice.call(arguments, 1);\n\t        handler.apply(this, args);\n\t    }\n\t  } else if (isObject(handler)) {\n\t    args = Array.prototype.slice.call(arguments, 1);\n\t    listeners = handler.slice();\n\t    len = listeners.length;\n\t    for (i = 0; i < len; i++) {\n\t      listeners[i].apply(this, args);\n\t    }\n\t  }\n\t\n\t  return true;\n\t};\n\t\n\tEventEmitter.prototype.addListener = function (type, listener) {\n\t  var m;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events) this._events = {};\n\t\n\t  // To avoid recursion in the case that type === \"newListener\"! Before\n\t  // adding it to the listeners, first emit \"newListener\".\n\t  if (this._events.newListener) this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);\n\t\n\t  if (!this._events[type])\n\t    // Optimize the case of one listener. Don't need the extra array object.\n\t    this._events[type] = listener;else if (isObject(this._events[type]))\n\t    // If we've already got an array, just append.\n\t    this._events[type].push(listener);else\n\t    // Adding the second element, need to change to array.\n\t    this._events[type] = [this._events[type], listener];\n\t\n\t  // Check for listener leak\n\t  if (isObject(this._events[type]) && !this._events[type].warned) {\n\t    if (!isUndefined(this._maxListeners)) {\n\t      m = this._maxListeners;\n\t    } else {\n\t      m = EventEmitter.defaultMaxListeners;\n\t    }\n\t\n\t    if (m && m > 0 && this._events[type].length > m) {\n\t      this._events[type].warned = true;\n\t      console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);\n\t      if (typeof console.trace === 'function') {\n\t        // not supported in IE 10\n\t        console.trace();\n\t      }\n\t    }\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.once = function (type, listener) {\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  var fired = false;\n\t\n\t  function g() {\n\t    this.removeListener(type, g);\n\t\n\t    if (!fired) {\n\t      fired = true;\n\t      listener.apply(this, arguments);\n\t    }\n\t  }\n\t\n\t  g.listener = listener;\n\t  this.on(type, g);\n\t\n\t  return this;\n\t};\n\t\n\t// emits a 'removeListener' event iff the listener was removed\n\tEventEmitter.prototype.removeListener = function (type, listener) {\n\t  var list, position, length, i;\n\t\n\t  if (!isFunction(listener)) throw TypeError('listener must be a function');\n\t\n\t  if (!this._events || !this._events[type]) return this;\n\t\n\t  list = this._events[type];\n\t  length = list.length;\n\t  position = -1;\n\t\n\t  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n\t    delete this._events[type];\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  } else if (isObject(list)) {\n\t    for (i = length; i-- > 0;) {\n\t      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n\t        position = i;\n\t        break;\n\t      }\n\t    }\n\t\n\t    if (position < 0) return this;\n\t\n\t    if (list.length === 1) {\n\t      list.length = 0;\n\t      delete this._events[type];\n\t    } else {\n\t      list.splice(position, 1);\n\t    }\n\t\n\t    if (this._events.removeListener) this.emit('removeListener', type, listener);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.removeAllListeners = function (type) {\n\t  var key, listeners;\n\t\n\t  if (!this._events) return this;\n\t\n\t  // not listening for removeListener, no need to emit\n\t  if (!this._events.removeListener) {\n\t    if (arguments.length === 0) this._events = {};else if (this._events[type]) delete this._events[type];\n\t    return this;\n\t  }\n\t\n\t  // emit removeListener for all listeners on all events\n\t  if (arguments.length === 0) {\n\t    for (key in this._events) {\n\t      if (key === 'removeListener') continue;\n\t      this.removeAllListeners(key);\n\t    }\n\t    this.removeAllListeners('removeListener');\n\t    this._events = {};\n\t    return this;\n\t  }\n\t\n\t  listeners = this._events[type];\n\t\n\t  if (isFunction(listeners)) {\n\t    this.removeListener(type, listeners);\n\t  } else if (listeners) {\n\t    // LIFO order\n\t    while (listeners.length) {\n\t      this.removeListener(type, listeners[listeners.length - 1]);\n\t    }\n\t  }\n\t  delete this._events[type];\n\t\n\t  return this;\n\t};\n\t\n\tEventEmitter.prototype.listeners = function (type) {\n\t  var ret;\n\t  if (!this._events || !this._events[type]) ret = [];else if (isFunction(this._events[type])) ret = [this._events[type]];else ret = this._events[type].slice();\n\t  return ret;\n\t};\n\t\n\tEventEmitter.prototype.listenerCount = function (type) {\n\t  if (this._events) {\n\t    var evlistener = this._events[type];\n\t\n\t    if (isFunction(evlistener)) return 1;else if (evlistener) return evlistener.length;\n\t  }\n\t  return 0;\n\t};\n\t\n\tEventEmitter.listenerCount = function (emitter, type) {\n\t  return emitter.listenerCount(type);\n\t};\n\t\n\tfunction isFunction(arg) {\n\t  return typeof arg === 'function';\n\t}\n\t\n\tfunction isNumber(arg) {\n\t  return typeof arg === 'number';\n\t}\n\t\n\tfunction isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object' && arg !== null;\n\t}\n\t\n\tfunction isUndefined(arg) {\n\t  return arg === void 0;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = actionCreate;\n\t\n\tvar _fluder = __webpack_require__(3);\n\t\n\tvar _fluder2 = _interopRequireDefault(_fluder);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * 创建action[对外API]\n\t * @param  {string} storeId  该action作用于那个store,和store的storeId一一对应\n\t * @param  {object} actionCreators 需要创建的action对象\n\t * @return {object} 返回一个actions对象,具有调用action触发store change的能力\n\t */\n\tfunction actionCreate(storeId, actionCreators) {\n\t  /**\n\t   * 不存在storeId\n\t   */\n\t  if (typeof storeId == 'undefined') throw Error('id is reauired as creating a action!');\n\t  /**\n\t   * action handler为空,相当于没有action\n\t   */\n\t  if (!actionCreators || Object.keys(actionCreators).length == 0) {\n\t    console.warn('action handler\\'s length is 0, need you have a action handler?');\n\t  }\n\t\n\t  var creator = void 0,\n\t      actions = {};\n\t  /**\n\t   * 遍历创建Action\n\t   */\n\t  for (var name in actionCreators) {\n\t    creator = actionCreators[name];\n\t    /**\n\t     * 创建闭包，让creator不被回收\n\t     */\n\t    actions[name] = function (storeId, creator) {\n\t      return function () {\n\t        /**\n\t         * action里面发出改变store消息\n\t         */\n\t        return this.dispatch(storeId, creator.apply(undefined, arguments));\n\t      }.bind(this);\n\t    }.call(_fluder2.default, storeId, creator);\n\t  }\n\t  return actions;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = applyMiddleware;\n\t\n\tvar _fluder = __webpack_require__(3);\n\t\n\tvar _fluder2 = _interopRequireDefault(_fluder);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * 中间件[对外API]\n\t * @param  {function} middleware action统一流入中间件\n\t * 这里和redux类似，和express等框架对请求的处理一样\n\t */\n\t\n\tfunction applyMiddleware(middleware) {\n\t    if (typeof middleware === 'function') {\n\t        /**\n\t         * 中间件是一个队列，一个action发出时\n\t         * 需要排队等到所有的中间件 完成才会触发对应的handler\n\t         * @param  {function} middleware\n\t         */\n\t        _fluder2.default.enter(middleware);\n\t    }\n\t    if ({}.toString.call(middleware) === '[object Array]') {\n\t        for (var i = 0; i < middleware.length; i++) {\n\t            if (typeof middleware === 'function') {\n\t                applyMiddleware(middleware[i]);\n\t            }\n\t        }\n\t    }\n\t    //支持链式中间件\n\t    return {\n\t        applyMiddleware: applyMiddleware\n\t    };\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = actionStoreCreate;\n\t\n\tvar _tools = __webpack_require__(9);\n\t\n\tvar _storeCreator = __webpack_require__(2);\n\t\n\tvar _storeCreator2 = _interopRequireDefault(_storeCreator);\n\t\n\tvar _actionCreator = __webpack_require__(6);\n\t\n\tvar _actionCreator2 = _interopRequireDefault(_actionCreator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction actionStoreCreate(actionCreators, method, handlers) {\n\t\tvar storeId = arguments.length <= 3 || arguments[3] === undefined ? (0, _tools.unique)() : arguments[3];\n\t\n\t\treturn {\n\t\t\tactionor: (0, _actionCreator2.default)(storeId, actionCreators),\n\t\t\tstoreor: (0, _storeCreator2.default)(storeId, method, handlers)\n\t\t};\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.unique = unique;\n\tfunction unique() {\n\t    /**\n\t      * Fluder Store唯一ID\n\t      */\n\t    return '@@Fluder/StoreId/' + Math.random().toString(36).substring(7).split('').join('.');\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** fluder.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7beb840fa2177a9dc188\n **/","import storeCreate from './storeCreator'\nimport actionCreate from './actionCreator'\nimport applyMiddleware from './applyMiddleware'\nimport actionStoreCreate from './actionStoreCreator'\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (\n  process.env.NODE_ENV !== 'production' &&\n  typeof isCrushed.name === 'string' &&\n  isCrushed.name !== 'isCrushed'\n) {\n  console.warn(\n    'You are currently using minified code outside of NODE_ENV === \\'production\\'. ' +\n    'This means that you are running a slower development build of Fluder. ' +\n    'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' +\n    'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' +\n    'to ensure you have the correct code for your production build.'\n  )\n}\n\nexport {\n  storeCreate,\n  actionCreate,\n  applyMiddleware,\n  actionStoreCreate\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n    try {\n        cachedSetTimeout = setTimeout;\n    } catch (e) {\n        cachedSetTimeout = function () {\n            throw new Error('setTimeout is not defined');\n        }\n    }\n    try {\n        cachedClearTimeout = clearTimeout;\n    } catch (e) {\n        cachedClearTimeout = function () {\n            throw new Error('clearTimeout is not defined');\n        }\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/process/browser.js\n **/","import Fluder from './fluder';\nimport EventEmitter from 'events';\n/**\n * 创建store[对外API]\n * @param  {string} storeId  该store的唯一标识，和action里的storeId一一对应\n * @param  {object} method   操作store的api(一般提供get set del update等)\n * @param  {object} handlers action的处理回调对象，handler的key需要和actionType一致\n * @return {object}          返回store对象\n */\nexport default function storeCreate(storeId, method, handlers) {\n    /**\n     * 不存在storeId\n     */\n    if (typeof storeId == 'undefined') {\n        throw Error('id is reauired as create a store, and the id is the same of store!');\n    }\n    const CHANGE_EVENT = 'change';\n    /**\n     * 创建store，继承EventEmitter\n     */\n    let store = Object.assign(method, EventEmitter.prototype, {\n        /**\n         * 统一Store的EventEmitter调用方式，避免和全局EventEmitter混淆\n         * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n         * 这里的局部优化是指全局Stores更新，触发的Store Handler较多，可以通过payload的数据过滤\n         */\n        emitChange: function(payload, result) {\n            this.emit(CHANGE_EVENT, payload, result);\n        },\n        addChangeListener: function(callback) {\n            this.on(CHANGE_EVENT, callback);\n        },\n        removeChangeListener: function(callback) {\n            this.removeListener(CHANGE_EVENT, callback);\n        },\n        removeAllChangeListener: function() {\n            this.removeAllListener()\n        }\n    });\n\n    Fluder.register(storeId, {store,handlers});\n\n    return store;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/storeCreator.js\n **/","\n/**\n * Fluder 0.1.0\n * A unidirectional data flow tool based on flux.\n *\n * url: https://github.com/coderwin/Fluder\n * author: chenjiancj2011@outlook.com\n * weibo: imChenJian\n * date: 2016-08-10\n */\n\n/**\n * workflow Queue\n */\nimport Queue from './queue';\n\n/**\n * custom Event\n */\nimport EventEmitter from 'events';\n\n/**\n * Fluder\n */\nexport default new class Fluder {\n    /**\n     * 构造函数\n     * @return {object} 返回Fluder实例对象\n     */\n    constructor() {\n        /**\n         * store handlers 注册Map\n         * @type {Object}\n         */\n        this._registers = {};\n\n        /**\n         * dispatch栈\n         * @type {Array}\n         */\n        this._dispatchStack = [];\n\n        /**\n         * 初始化\n         */\n        this._init();\n    }\n\n    _init() {\n        /**\n         * 中间件，集中处理action payload和storeId\n         */\n        this._middleware = new Queue((payload) => {\n            /**\n             * 中间件队列执行完后触发Store handler的调用\n             */\n            this._invoke(payload);\n\n        }, true);\n    }\n\n    /**\n     * action对handler的调用(内部调用)\n     * @param  {object} payload 此时的payload包含action和action对应的storeId\n     * @return {void}           无返回值\n     */\n    _invoke(payload) {\n        /**\n         * storeId: 用于map到register里面注册的handler\n         * @type {string}\n         */\n        let {\n            storeId\n        } = payload;\n        /**\n         * store和它对应的handler\n         * @type {object}\n         */\n        let {\n            store,\n            handlers\n        } = this._registers[storeId];\n\n        /**\n         * action payload\n         * @type {object}\n         */\n        payload = payload.payload;\n\n        /**\n         * 在当前storeId的store Map到对应的handler\n         * @type {function}\n         */\n        let handler = handlers[payload.type];\n\n        if (typeof handler === 'function') {\n            // Invoke store handler\n            /**\n             * TODO\n             * result应该为store数据的copy，暂时没做深度copy，后续把Store改写成Immutable数据结构\n             * view-controller里面对result的修改不会影响到store里的数据\n             */\n            let result;\n            let _result = handler.call(store, payload)\n            /**\n             * 可以没有返回值，只是set Store里面的值\n             * 这里把payload传给change的Store，可以做相应的渲染优化[局部渲染]\n             */\n            // if (result !== undefined) {\n            store.emitChange(payload, result);\n            // }\n        }\n    }\n    \n    /**\n     * 更新Action栈以及记录当前ActionID\n     */\n    _startDispatch(storeId) {\n        this._dispatchStack || (this._dispatchStack = []);\n        this._dispatchStack.push(storeId);\n        this._currentDispatch = storeId;\n    }\n\n    /**\n     * Action执行完更新Action栈以及删除当前ActionID\n     */\n    _endDispatch() {\n        this._dispatchStack.pop();\n        this._currentDispatch = null;\n    }\n\n    register(storeId, regs){\n        this._registers[storeId] = regs;\n    }\n\n    enter(middleware){\n        this._middleware.enter(middleware)\n    }\n\n    /**\n     * 触发action(内部调用)\n     * @param  {string} storeId store/action唯一标示\n     * @param  {object} action  action数据\n     * @return {void}           无返回值\n     */\n    dispatch(storeId, payload) {\n        /**\n         * 在当前Action触发的Store handler回调函数中再次发起了当前Action，这样会造成A-A循环调用,出现栈溢出\n         */\n        if (this._currentDispatch == storeId) {\n            throw Error('action '+(payload.value&&payload.value.actionType)+' __invoke__ myself!')\n        }\n        /**\n         * 在当前Action触发的Store handler回调函数中再次触发了当前Action栈中的Action，出现A-B-C-A式循环调用，也会出现栈溢出\n         */\n        if (this._dispatchStack.indexOf(storeId) != -1) {\n            throw Error(this._dispatchStack.join(' -> ') + storeId + ' : action __invoke__ to a circle!');\n        }\n        /**\n         * 更新Action栈以及记录当前ActionID\n         */\n        this._startDispatch(storeId);\n        /**\n         * Action的触发必须有ActionType，原因是ActionType和Store handlers Map的key一一对应\n         */\n        if (!payload.type) {\n            throw new Error('action type does not exist in \\n' + JSON.stringify(payload, null, 2));\n        }\n        /**\n         * 发出action的时候 统一走一遍中间件\n         */\n        this._middleware.execute({\n            storeId,\n            payload\n        });\n        /**\n         * Action执行完更新Action栈以及删除当前ActionID\n         */\n        this._endDispatch()\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fluder.js\n **/","\n/**\n * Mini Queue Class\n * @param {Function} complete callback,\n * when queue is done, then invoke complete callback\n * @param {Boolean} whether execute workflow of loop\n */\nexport default class Queue {\n\n    constructor(completeCallback, loop) {\n        this.workflows = [];\n        this.completeCallback = completeCallback;\n\n        if (loop) {\n            this._workflows = [];\n        }\n    }\n    /**\n     * Enter queue\n     * @param {Function} workflow function\n     */\n    enter(workflow) {\n        this.workflows.push(workflow);\n\n        // Backup workflow\n        if (this._workflows) {\n            this._workflows.push(workflow);\n        }\n    }\n    /**\n     * Execute workflow\n     * @param {Object} workflow function data required\n     */\n    execute(data, workflows) {\n        workflows = workflows || this.workflows.concat();\n        var workflow;\n\n        if (workflows.length) {\n            workflow = workflows.shift();\n            workflow(data, this.execute.bind(this, data, workflows));\n        }else {\n            // Get backup, begin loop\n            if (this._workflows) {\n                this.workflows = this._workflows.concat();\n            }\n\n            workflows = null;\n            this.completeCallback(data);\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/queue.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/events/events.js\n **/","import Fluder from './fluder';\n/**\n * 创建action[对外API]\n * @param  {string} storeId  该action作用于那个store,和store的storeId一一对应\n * @param  {object} actionCreators 需要创建的action对象\n * @return {object} 返回一个actions对象,具有调用action触发store change的能力\n */\nexport default function actionCreate(storeId, actionCreators) {\n    /**\n     * 不存在storeId\n     */\n    if (typeof storeId == 'undefined') throw Error('id is reauired as creating a action!');\n    /**\n     * action handler为空,相当于没有action\n     */\n    if (!actionCreators || Object.keys(actionCreators).length == 0) {\n        console.warn('action handler\\'s length is 0, need you have a action handler?');\n    }\n\n    let creator, actions = {};\n    /**\n     * 遍历创建Action\n     */\n    for (let name in actionCreators) {\n        creator = actionCreators[name];\n        /**\n         * 创建闭包，让creator不被回收\n         */\n        actions[name] = function(storeId, creator) {\n            return function() {\n                /**\n                 * action里面发出改变store消息\n                 */\n                return this.dispatch(storeId, creator(...arguments));\n            }.bind(this);\n        }.call(Fluder, storeId, creator);\n    }\n    return actions;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actionCreator.js\n **/","import Fluder from './fluder';\n\n/**\n * 中间件[对外API]\n * @param  {function} middleware action统一流入中间件\n * 这里和redux类似，和express等框架对请求的处理一样\n */\n\nexport default function applyMiddleware(middleware) {\n    if (typeof middleware === 'function') {\n        /**\n         * 中间件是一个队列，一个action发出时\n         * 需要排队等到所有的中间件 完成才会触发对应的handler\n         * @param  {function} middleware\n         */\n        Fluder.enter(middleware);\n    }\n    if (({}).toString.call(middleware) === '[object Array]') {\n        for (let i = 0; i < middleware.length; i++) {\n            if (typeof middleware === 'function') {\n                applyMiddleware(middleware[i])\n            }\n        }\n    }\n    //支持链式中间件\n    return {\n    \tapplyMiddleware\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/applyMiddleware.js\n **/","import {unique} from './tools';\nimport storeCreate from './storeCreator';\nimport actionCreate from './actionCreator';\n\nexport default function actionStoreCreate(actionCreators, method, handlers, storeId = unique()){\n\treturn {\n\t\tactionor: actionCreate(storeId, actionCreators),\n\t\tstoreor: storeCreate(storeId, method, handlers)\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actionStoreCreator.js\n **/","export function unique(){\n\t  /**\n     * Fluder Store唯一ID\n     */\n    return '@@Fluder/StoreId/' + Math.random().toString(36).substring(7).split('').join('.');\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/tools.js\n **/"],"sourceRoot":""}